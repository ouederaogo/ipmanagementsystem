{% extends 'base.html' %}
{% load static %}
{% block content %}

  <section style="min-height:60vh">
    <div class="container">
      <div class="row">
        <div class="col-lg-6 d-flex justify-content-end">
          <img style="width:90% ;" src="{% static 'images/logo.png' %}" alt="">
        </div>
        <div class="col-lg-6">
          <div class="card mx-auto" style="max-width: 520px">
            <div class="card-body">
              <h3 class="card-title mb-4">Forgot Password</h3>
              <form action="{% url 'forgotPassword' %}" method="POST" name="Form">
                {% csrf_token %}
                  <div class="form-group mb-3">
                    
                    
                    <div class="form-floating mb-3">
                      <input type="email" class="form-control" id="floatingInput" placeholder="Email Address" name="email" required>
                      <label for="floatingInput">Email address</label>
                    </div>
                  </div> 
    
                  <div class="form-group mb-3">
                    <a href="{% url 'login' %}" class="float-right">Got password? Login</a>
                  </div> 
                  <div class="form-group d-grid mb-3">
                      <button type="submit" class="btn btn-primary btn-block" id="resetPasswordSubmitBtn"> Submit  </button>
                  </div> 
              </form>
            </div> 
          </div>
    
          <div class="mt-4">
            <p class="text-center mt-4">Don't have account? <a href="{% url 'register' %}">Sign up</a></p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <script>
      document.getElementById("resetPasswordSubmitBtn").addEventListener("click", function (e) {
      const email = document.forms["Form"]["email"].value;      
      if (email){
        this.innerHTML = `<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Submitting...`;
        this.classList.add("disabled");        
      }     

      });
    </script>
{% endblock %}